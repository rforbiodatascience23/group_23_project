---
title: "Final Project: A protein expression analysis of Breast Cancer"
author: "Group_23"
format: 
  revealjs:
    footer: "[github.com/meghall06/neair](https://github.com/meghall06/neair)&nbsp;&nbsp;&nbsp;"
    theme: [moon, custom.scss]
    preview-links: auto
    chalkboard: 
      boardmarker-width: 5
from: markdown+emoji
execute:
  echo: true
---

## Introduction

::: {style="font-size: 0.8em; text-align: left"}

The data set consists of:

-   iTRAQ proteome profiling of 77 breast cancer samples + 3 healthy samples, with expression values for \~12.000 proteins for each sample.

-   A file containing the clinical data of the 77 breast cancer patients (TCGA ID, sex, age, tumor receptors, etc.).

-   A file containing the list of genes and proteins used by the PAM50 classification system.

The analysis is relevant for multiple potential applications: expression analysis to identify biomarkers, understand disease heterogeneity, and infer personalized treatment strategies in breast cancer.

:::

## Materials and methods

### Workflow

## Materials and methods

### Description of relevant variables

::: {style="font-size: 0.7em; text-align: left"}

-   Dropped variables (redundant or not relevant): Survival.Data.Form, Days.to.date.of.Death, Days.to.Date.of.Last.Contact, OS.Time, Vital.Status, Tumor..T1.Coded, Metastasis.Coded, AJCC.Stage, Converted.Stage and all the columns destined to cluster the data

-   Created variables:

    -   Age.Ini.Diagnostic.group: intervals of 10 years starting from 30 and going up until 90.

    -   Age.Menopausal.group: `[30, 45)` Pre-menopausal, `[45, 55)` Menopausal, `[55, 90)` Post-menopausal.

    -   ER_PR_HER2: level from 0 to 7 depending on hormonal receptors (ER, PR) present an the level of HER2.

    -   TNBC: 0 if positive, 1 if negative

    -   AJCC.Simp: simplified AJCC stages (I, II, III, and IV)
    
:::


## Materials and methods

### Description of relevant variables

::: columns
::: {.column width="60%"}
![](../results/ER_PR_across_age_groups.png){fig-align="right" width="50%"}

![](../results/normalized_TNBC_across_menopausal.png){fig-align="right" width="50%"}
:::
:::


## Try (you can feel free to remove it)

::: columns
::: {.column width="50%"}
::: {style="font-size: 0.5em; text-align: left"}
```{r, font-size: 2px}
#| eval: false
#| echo: true

# Perform k-means clustering
kmeans_PAM50_5 <- PAM50_data |>
  kmeans(centers = 5)

# Define the hulls for getting the points that define the shapes of each cluster
hulls <- PAM50_cluster_data |>
  group_by(Cluster_5) |>
  group_modify(~ .x[chull(.x$PC1, 
                          .x$PC2), 
                    ])

# Plot the final comparison
PAM50_cluster_data |>
  ggplot(mapping = aes(PC1,
                       PC2,
                       fill = factor(Cluster_5))) +
    scale_fill_manual(values = Cluster_colors) +
    scale_color_manual(values = PAM50_colors) +
    geom_point(mapping = aes(color = PAM50.mRNA),
               size = 1) +
    geom_polygon(data = hulls,
                 alpha = .1) +
    guides(fill = "none",
           color = guide_legend(title = "PAM50 classes")) +
    labs(title = "PAM50 classification compared to the predicted clusters\n(K-means clusters represented as a grey contour)",
         x = "Fitted PC1 (33.46 %)",
         y = "Fitted PC2 (12.61 %)") +
    theme_light() +
    theme(plot.title = element_text(hjust = 0.5))
```
:::
:::


::: {.column width="50%"}
::: {.fragment}

![](../results/Kmeans_PAM50_clusters.png){fig-align="right" width="50%"}
:::
:::
:::
:::



